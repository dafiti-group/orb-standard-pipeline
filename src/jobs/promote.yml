parameters:
  origin:
    type: string
    description: path to origin image hash to copy from
  destiny:
    type: string
    description: path to destiny file to past to
  target:
    type: string
    description: the target promote name to display in commit message
  start_folder:
    type: string
    default: argo
    description: The path to navigate to, to start scripting
executor: default
steps:
  - config_git
  - clone_gitops
  - run:
      name: Promote image from <<parameters.origin>> to <<parameters.destiny>>
      environment:
        PARAMETER_START_FOLDER: <<parameters.start_folder>>
      command: <<include(scripts/promote.sh)>>
